# MariaDB MaxScale 24.02 Changelog

* The default values of some readwritesplit parameters have been updated. The
  new default values are:
  * `master_reconnection=true`
  * `master_failure_mode=fail_on_write`
  * `strict_tmp_tables=true`
  * `transaction_replay_timeout=30s`
* MariaDB-Monitor now requires MariaDB Server 10.4 or newer for failover/
  switchover. Server 10.3 is end of life.
* Server setting `private_address` added. Used for detecting and setting up
  replication. See [MariaDB Monitor documentation](https://app.gitbook.com/s/0pSbu5DcMSW4KwAkUcmX/maxscale-archive/archive/mariadb-maxscale-24-02/maxscale-24-02monitors/mariadb-maxscale-2402-maxscale-2402-mariadb-monitor#private_address)
  for more information.
* MariaDB-Monitor allows customization of some mariadb-backup settings. See [mariadb-backup\_use\_memory](https://app.gitbook.com/s/0pSbu5DcMSW4KwAkUcmX/maxscale-archive/archive/mariadb-maxscale-24-02/maxscale-24-02monitors/mariadb-maxscale-2402-maxscale-2402-mariadb-monitor#backup-operations)
  and [mariadb-backup\_parallel](https://app.gitbook.com/s/0pSbu5DcMSW4KwAkUcmX/maxscale-archive/archive/mariadb-maxscale-24-02/maxscale-24-02monitors/mariadb-maxscale-2402-maxscale-2402-mariadb-monitor#backup-operations)
  for more information.
* MariaDB-Monitor setting `servers_no_promotion` now affects primary
  server selection during MaxScale startup or due to replication topology
  changes.
* Pam authentication now always checks account status. Previously, this check
  was not performed if MaxScale was configured for username mapping
  (`authenticator_options=pam_backend_mapping=mariadb`). This means that if
  username mapping is configured in the OS pam service config, the final
  username must be a valid user. This is similar to MariaDB Server behavior.
* Support for the legacy SysV and Upstart system managers has been removed. In
  practice this change will not affect anything as all supported operating
  systems use SystemD as the system manager and MaxScale has long preferred it
  over the legacy systems.
* The output of `maxctrl show service` now includes the statistics for
  the services.
* The `max_sescmd_history_length` and `avg_sescmd_history_length` statistics in
  readwritesplit were moved into the core as service statistics. The session
  command history was moved into the MaxScale core in MaxScale 6 but the
  statistics were not updated to match this.
* Several redundant schemarouter statistics have been either replaced by
  statistics that are found in the general service statistics output or have
  been removed if they were irrelevant.
  * `longest_sescmd_chain` replaced by `max_sescmd_history_length`.
  * `queries` replaced with `routed_packets`.
  * `times_sescmd_limit_exceeded` has been removed.
  * `sescmd_percentage` has been removed.
  * `longest_session` replaced with `max_session_lifetime`.
  * `average_session` replaced with `avg_session_lifetime`.
  * `shortest_session` has been removed.
* `admin_readwrite_hosts` and `admin_readonly_hosts` added. These settings limit
  the allowed source addresses for admin (REST-API) connections. See [here](https://app.gitbook.com/s/0pSbu5DcMSW4KwAkUcmX/maxscale-archive/archive/mariadb-maxscale-24-02/maxscale-24-02getting-started/mariadb-maxscale-2402-maxscale-2402-mariadb-maxscale-configuration-guide#admin_readwrite_hosts)
  for more information.
* The `alter` commands in MaxCtrl now allow modifications to the`targets`, `servers`, `filters` and `cluster` parameters for monitors
  and services. This makes it easier to define the exact set of servers
  that is to be used by a monitor or a service.
* The [causal\_reads](https://app.gitbook.com/s/0pSbu5DcMSW4KwAkUcmX/maxscale-archive/archive/mariadb-maxscale-24-02/maxscale-24-02routers/mariadb-maxscale-2402-maxscale-2402-readwritesplit#causal_reads) feature no longer
  requires modifying `session_track_system_variables` on
  the server. MaxScale adds `last_gtid` to the variable automatically
  for each session. Clients should not modify it manually.
* The [qlafilter](https://app.gitbook.com/s/0pSbu5DcMSW4KwAkUcmX/maxscale-archive/archive/mariadb-maxscale-24-02/maxscale-24-02filters/mariadb-maxscale-2402-maxscale-2402-query-log-all-filter) now logs the execution of the
  binary protocol statements as text. This makes it so that for all execution of
  SQL, the `query` value in `log_data` will produce output.
* The functionality that the `auth_all_servers` parameter enabled is
  automatically enabled by the schemarouter whenever it is used.

For more details, please refer to:

* [MariaDB MaxScale 24.02.5 Release Notes](24.02.5.md)
* [MariaDB MaxScale 24.02.4 Release Notes](24.02.4.md)
* [MariaDB MaxScale 24.02.3 Release Notes](24.02.3.md)
* [MariaDB MaxScale 24.02.2 Release Notes](24.02.2.md)
* [MariaDB MaxScale 24.02.1 Release Notes](24.02.1.md)
* [MariaDB MaxScale 24.02.0 Release Notes](24.02.0.md)

The changelog for the previous MaxScale version can be found [here](../23.08/23.08-changelog.md).

<sub>_This page is licensed: CC BY-SA / Gnu FDL_</sub>

{% @marketo/form formId="4316" %}

