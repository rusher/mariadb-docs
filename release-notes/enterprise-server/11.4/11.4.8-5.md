---
hidden: true
---

# Release Notes for MariaDB Enterprise Server 11.4.8-5

{% include "../../.gitbook/includes/unreleased-es-11.4.md" %}

<a href="https://mariadb.com/downloads/enterprise/enterprise-server/" class="button primary">Download</a> <a href="11.4.8-5.md" class="button secondary">Release Notes</a> <a href="changelog-11.4.8-5.md" class="button secondary">Changelog</a> <a href="whats-new.md" class="button secondary">Overview of MariaDB Enterprise Server 11.4</a>

**Release date:** ?

MariaDB Enterprise Server 11.4.8-5 is a maintenance release of [MariaDB Enterprise Server 11.4](whats-new.md). This release includes a variety of fixes.

## Changes in Storage Engines <a href="#changes-in-storage-engines" id="changes-in-storage-engines"></a>

* This release incorporates MariaDB ColumnStore engine version 23.10.6

## Backports

* Segmented key cache for Aria ([MENT-2361](https://jira.mariadb.org/browse/MENT-2361))
* Backport fixes for Vectors to MariaDB Enterprise 11.4 ([MENT-2365](https://jira.mariadb.org/browse/MENT-2365))
  * Overflow/inf in vec\_distance\_euclidean
  * Sporadic segmentation faults possibly related to vector search
  * Incorrect error/docs for Vector column lengths (max = 65532
  * Unexpected ER\_TABLE\_EXISTS\_ERROR on primary or replica upon CREATE OR REPLACE for partitioned table
  * Cannot access shared MEM\_ROOT without a lock
  * Can't find record in 't1' on INSERT to Vector table
  * Create vector table failed with VECTOR INDEX when innodb\_force\_primary\_key=on
  * Assertion when adding FK to MyISAM/Aria table with a vector index
  * UBSAN: 32801 is outside the range of representable values of type 'short'
  * Always release ctx in mhnsw\_delete\_all
  * Optimise dot\_product by loop-unrolling by a factor of 4
  * Vector index search allocates too much memory for large ef\_search
  * ALTER performs vector truncation without WARN\_DATA\_TRUNCATED or similar warnings/errors
  * DATA/INDEX DIRECTORY options are ignored for vector index
  * DATA/INDEX DIRECTORY handling is inconsistent
  * Assert with vector index and very long PK
  * InnoDB: Failing assertion: prebuilt-\>select\_lock\_type != LOCK\_NONE || srv\_read\_only\_mode || trx-\>read\_view.is\_open()
  * Crash on disconnect when dropped Aria table with vector key under lock
  * InnoDB assert with vector index under LOCK TABLES
  * mhnsw: support powerpc64 SIMD instructions
  * mhnsw: support aarch64 SIMD instructions
  * IGNORED attribute has no effect on vector keys
  * IMPORT TABLESPACE does not work for tables with vector, although allowed
  * Vector-related error messages worth improving when possible
  * Adding a regular index on a vector column leads to invalid table structure
  * Vector values do not survive mariadb-dump / restore
  * Server crashes in Charset::mbminlen / Item\_func\_vec\_fromtext::val\_str upon mixing vector type with string
  * Server crashes in mhnsw\_read\_first upon using vector key with views
  * Server crashes when checking/updating a table having vector key after enabling innodb\_force\_primary\_key
  * ALTER TABLE re-creating vector key is no-op with non-copying alter algorithms (default)
  * Server crash in FVector::distance\_to upon concurrent SELECT
  * Server crashes in Item\_func\_vec\_distance\_common::get\_const\_arg
  * Non-copying ALTER does not pad VECTOR column, vector search further does not work
  * Assertion `bitmap_is_set(&read_partitions, next->id)` failed in int partition\_info::vers\_set\_hist\_part(THD *)

## Notable changes <a href="#notable-changes" id="notable-changes"></a>

* Repositories for RedHat 10 x86\_64 and aarch64 have been added
* MariaDB systemd multi-instance service was changed to not attempt changes to the permissions on its pam helper server. This prevents unconstructive behavior and errors in the systemd journal when starting the `mariadb@.service` ([MDEV-36738](https://jira.mariadb.org/browse/MDEV-36738))
* [Galera](https://app.gitbook.com/o/diTpXxF5WsbHqTReoBsS/s/3VYeeVGUV4AMqrA3zwy7/) updated to 26.4.23

## Issues Fixed <a href="#issues-fixed" id="issues-fixed"></a>

### Can result in data loss

* Adding (with ALTER TABLE) a UNIQUE constraint that is USING HASH to a table
  with foreign keys could've caused the table to become corrupted.
  ([MDEV-36852](https://jira.mariadb.org/browse/MDEV-36852))

### Can result in hang or crash

* Server crashes in do\_mark\_index\_columns instead of ER\_DUP\_ENTRY on partitioned table ([MDEV-36817](https://jira.mariadb.org/browse/MDEV-36817))
* CREATE OR REPLACE with self-referencing CHECK hangs forever, cannot be killed ([MDEV-29155](https://jira.mariadb.org/browse/MDEV-29155))
* Segfault on INTERSECT ALL with UNION in Oracle mode ([MDEV-25158](https://jira.mariadb.org/browse/MDEV-25158))
* This commit fixes a bug where Aria tables are used in (master->slave1->slave2) and a backup is taken on slave2. In this case it is possible that the replication position in the backup, stored in mysql.gtid\_slave\_pos, will be wrong. This will lead to replication errors if one is trying to use the backup as a new slave. ([MDEV-36143](https://jira.mariadb.org/browse/MDEV-36143))
* Maria-backup would crash during the 'maria\_recovery' part. This could happen if server was doing repair or creating indexes while the backup was running. ([MDEV-36860](https://jira.mariadb.org/browse/MDEV-36860))
* MariaDB server crash when a query includes a derived table containing unnamed column. ([MDEV-24588](https://jira.mariadb.org/browse/MDEV-24588))
* Incorrect handling of UTF-8 characters (and other character sets requiring more than a single byte representation) in the minimum/maximum positions of a table during the execution of ANALYZE TABLE tbl PERSISTENT FOR ALL resulted in an endless loop consuming more memory and prevented the server from terminating. ([MDEV-36765](https://jira.mariadb.org/browse/MDEV-36765))
* Fatal InnoDB error: Unknown error Temp file write failure ([MDEV-36017](https://jira.mariadb.org/browse/MDEV-36017))
* ASAN errors in Binary\_string::alloced\_length / reset\_stmt\_params ([MDEV-32694](https://jira.mariadb.org/browse/MDEV-32694))
* semi sync makes the master unresponsive when a replica is stopped ([MDEV-36934](https://jira.mariadb.org/browse/MDEV-36934))
* json\_extract crashes in Item\_func\_json\_extract::read\_json ([MDEV-21530](https://jira.mariadb.org/browse/MDEV-21530))
* MariaDB 10.11.9 Signal 11 crash on second Stored Procedure call ([MDEV-36814](https://jira.mariadb.org/browse/MDEV-36814))
* When innodb\_buffer\_pool\_size is being shrunk while there are no data pages cached, InnoDB could hang or crash. ([MDEV-37263](https://jira.mariadb.org/browse/MDEV-37263))
* A replica would crash while replicating UPDATE and DELETE DML statements that target a table which previously had a partition that was converted to a separate table via ALTER TABLE .. CONVERT PARTITION .. TO TABLE. For example, if the command looked like ALTER TABLE t1 CONVERT PARTITION p1 TO TABLE t\_new; the replica would crash when trying to update/deleterows in table t1 after running the command. ([MDEV-36906](https://jira.mariadb.org/browse/MDEV-36906))
* Crash in add\_keyuses\_for\_splitting() when joining with a derived table ([MDEV-30711](https://jira.mariadb.org/browse/MDEV-30711))
* Inconsistency detected - create sequence ([MENT-2297](https://jira.mariadb.org/browse/MENT-2297))
* MariaDB Enterprise Backup failed after upgrade ([MENT-2401](https://jira.mariadb.org/browse/MENT-2401))
* Possible crash on server start when `CREATE SERVER` has been used before ([MDEV-36087](https://jira.mariadb.org/browse/MDEV-36087))
* Replica stops with "Found invalid event in binary log" ([MENT-2385](https://jira.mariadb.org/browse/MENT-2385))

### Can result in unexpected behaviour

* After a successful shrinking of innodb\_buffer\_pool\_size, there will be no message about it in the server error log. After a failed shrinking of innodb\_buffer\_pool\_size, the adaptive hash index will not be re-enabled if innodb\_adaptive\_hash\_index was ON when SET GLOBAL innodb\_buffer\_pool\_size=... started to execute. ([MDEV-36868](https://jira.mariadb.org/browse/MDEV-36868))
* ALTER TABLE require ALTER privilege on sequence from DEFAULT value expression ([MDEV-36280](https://jira.mariadb.org/browse/MDEV-36280))
* Deadlock does not rollback transaction fully ([MDEV-36959](https://jira.mariadb.org/browse/MDEV-36959))
* parallel slave ALTER-SEQUNCE attempted to binlog out-of-order ([MDEV-35570](https://jira.mariadb.org/browse/MDEV-35570))
* In certain cases privileges on sequences were too restrictive, for example, SELECT on a table might've erroneously required INSERT privilege on a sequences ([MDEV-36870](https://jira.mariadb.org/browse/MDEV-36870))
* AUTO\_INCREMENT leads to non-serializable on results ([MDEV-36330](https://jira.mariadb.org/browse/MDEV-36330))
* UNIQUE constraint that was USING HASH and UNIQUE constrant WITHOUT OVERLAPS could be violated under heavy load in READ COMMITTED transaction isolation mode. ([MDEV-37199](https://jira.mariadb.org/browse/MDEV-37199))
* Fresh MariaDB 11.4 installation gives errors when configuring utf8 ([MDEV-36815](https://jira.mariadb.org/browse/MDEV-36815))
* Split Materialized code: last\_refills is never set in 11.0+ ([MDEV-36323](https://jira.mariadb.org/browse/MDEV-36323))
* `UNIQUE KEY USING HASH` accepting duplicate records ([MENT-2324](https://jira.mariadb.org/browse/MENT-2324))
* Crash recovery after bulk load data reports corruption ([MDEV-37192](https://jira.mariadb.org/browse/MDEV-37192))

### Unexpected results

* Remove the error codes added by the MDEV-36032 patch ([MDEV-36856](https://jira.mariadb.org/browse/MDEV-36856))
* Seconds\_Behind\_Master Spike at Log Rotation on Parallel Replica ([MDEV-36840](https://jira.mariadb.org/browse/MDEV-36840))
* Assertion 'vers\_conditions.delete\_history' failed upon PREPARE ([MDEV-37164](https://jira.mariadb.org/browse/MDEV-37164))
* DML committed within XA transaction block after deadlock error and implicit rollback ([MDEV-37141](https://jira.mariadb.org/browse/MDEV-37141))
* Don't generate index\_merge plans, if a column is present in both Secondary Key and Primary Key indexes and either of the indexes include it with DESC order (as the scan itself is not a ROR scan). ([MDEV-36410](https://jira.mariadb.org/browse/MDEV-36410))
* Incorrect handling of null values on join conditions. ([MDEV-37057](https://jira.mariadb.org/browse/MDEV-37057))
* DROP DEFAULT makes SHOW CREATE non-idempotent ([MDEV-29001](https://jira.mariadb.org/browse/MDEV-29001))
* Possible wrong results when split materialized optimization is used with nullable join conditions. ([MDEV-37230](https://jira.mariadb.org/browse/MDEV-37230))

### Related to performance

* Performance regression with encrypted InnoDB log ([MENT-2396](https://jira.mariadb.org/browse/MENT-2396))

## Changelog <a href="#changelog" id="changelog"></a>

For the complete list of changes in this release, see the [changelog](changelog-11.4.8-5.md).

## Platforms <a href="#platforms" id="platforms"></a>

In alignment to the enterprise lifecycle, MariaDB Enterprise Server 11.4.5-3 is provided for:

* AlmaLinux 8 (x86\_64, ARM64)
* AlmaLinux 9 (x86\_64, ARM64)
* AlmaLinux 10 (x86\_64, ARM64)
* Debian 11 (x86\_64, ARM64)
* Debian 12 (x86\_64, ARM64)
* Microsoft Windows (x86\_64) (MariaDB Enterprise Cluster excluded)
* Oracle Linux 8 (x86\_64, ARM64)
* Oracle Linux 9 (x86\_64, ARM64)
* Oracle Linux 10 (x86\_64, ARM64)
* Red Hat Enterprise Linux 8 (x86\_64, ARM64)
* Red Hat Enterprise Linux 9 (x86\_64, ARM64, PPC64LE)
* Red Hat Enterprise Linux 10 (x86\_64, ARM64)
* Rocky Linux 8 (x86\_64, ARM64)
* Rocky Linux 9 (x86\_64, ARM64)
* Rocky Linux 10 (x86\_64, ARM64)
* SUSE Linux Enterprise Server 15 (x86\_64, ARM64)
* Ubuntu 22.04 (x86\_64, ARM64)
* Ubuntu 24.04 (x86\_64, ARM64)
* Microsoft Windows (x86\_64) (Without MariaDB Enterprise Cluster (Galera) support)
* Red Hat UBI 8 (x86\_64, ARM64)
  * Red Hat UBI 8 is part of the Enterprise Server Docker Image. It does not support MariaDB Enterprise Cluster (Galera) or MariaDB ColumnStore.

Some components of MariaDB Enterprise Server are supported on a subset of platforms. See [MariaDB Engineering Policies](https://mariadb.com/engineering-policies) for details.

## Installation Instructions <a href="#installation-instructions" id="installation-instructions"></a>

* [Deploy MariaDB Enterprise with Repositories](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/server-management/install-and-upgrade-mariadb/installing-mariadb/binary-packages/mariadb-package-repository-setup-and-usage)
* [Deploy MariaDB Enterprise with Package Tarballs](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/server-management/install-and-upgrade-mariadb/installing-mariadb/binary-packages/package-tarballs)
* [Deploy MariaDB Enterprise with Docker](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/server-management/install-and-upgrade-mariadb/installing-mariadb/binary-packages/automated-mariadb-deployment-and-administration/docker-and-mariadb/deploy-mariadb-enterprise-server-with-docker)

## Upgrade Instructions <a href="#upgrade-instructions" id="upgrade-instructions"></a>

* [Upgrade to MariaDB Enterprise Server 11.4](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/server-management/install-and-upgrade-mariadb/upgrading/upgrades/upgrade-to-mariadb-enterprise-server-11.4)

{% include "https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/~/reusable/pNHZQXPP5OEz2TgvhFva/" %}

{% @marketo/form formid="4316" formId="4316" %}
